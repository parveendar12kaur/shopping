/*global fetch*/
"use strict";

/*
 * This file will be executed by React Native
 */

const ElectrodeFetch = require("./electrode-fetch");

const instance = new ElectrodeFetch({
  manageJwt: true,
  keepAlive: false,
  fetch: fetch,
  isClientFetch: true,
  getGlobalJWT: function () {
    return global._wml ? global._wml.jwt : null;
  }
});

module.exports = {
  instance: instance,
  fetch: instance.fetch.bind(instance),
  fetchJSON: instance.fetchJSON.bind(instance),
  setListener: instance.setListener.bind(instance),
  setFetch: instance.setFetch.bind(instance),
  setGenerateCorrelationID: instance.setGenerateCorrelationID.bind(instance),
  setGetJWT: instance.setGetJWT.bind(instance)
};
