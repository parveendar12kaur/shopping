"use strict";

const fs = require("fs");

let dynamicDataLoaderScript; //eslint-disable-line
const loadDynamicDataLoader = () => {
  // TODO: move dynamic data loader script into separate repo or provide a tool to build
  // a minified resource from a source code.
  // See: https://gecgithub01.walmart.com/electrode/electrode-react-webapp/issues/55

  if (!dynamicDataLoaderScript) {
    dynamicDataLoaderScript = fs.readFileSync(
      require.resolve("../../resources/dynamic-data.min.js"),
      "utf8"
    );
  }

  return dynamicDataLoaderScript;
};

let littleLoaderScript; //eslint-disable-line
const loadLittleLoader = () => {
  if (!littleLoaderScript) {
    littleLoaderScript = fs.readFileSync(
      require.resolve("little-loader/dist/little-loader.min.js"),
      "utf8"
    );
  }

  return littleLoaderScript;
};

module.exports = {
  loadDynamicDataLoader,
  loadLittleLoader
};
