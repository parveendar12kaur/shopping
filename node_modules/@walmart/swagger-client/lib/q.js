'use strict';

var assert = require('assert');

var Q = {};

Q.defer = function defer() {
  var deferred = {};
  assert(Q.Promise, 'No Promise available');
  deferred.promise = new Q.Promise(function (resolve, reject) {
    deferred.resolve = resolve;
    deferred.reject = reject;
  });

  return deferred;
};

Q.Promise = Promise;

module.exports = Q;
