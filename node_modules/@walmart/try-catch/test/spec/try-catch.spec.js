"use strict";

const tryCatch = require("../..");

describe("try-catch", function () {
  it("should return good value", () => {
    expect(tryCatch(() => 50)).to.equal(50);
  });

  it("should call errFn", () => {
    expect(tryCatch(() => {
      throw new Error("failed");
    }, (err) => {
      expect(err.message).to.equal("failed");
      return 100;
    })).to.equal(100);
  });

  it("should return undefined errFn as value", () => {
    expect(tryCatch(() => {
      throw new Error("failed");
    })).to.equal(undefined);
  });

  it("should return errFn as value", () => {
    expect(tryCatch(() => {
      throw new Error("failed");
    }, 500)).to.equal(500);
  });
});
