"use strict";
/*
 * This file is intended to be executed by browsers and server
 */

const Log = {};

function log(level, data, opts) {
  Log._addLogMessage({ tags: typeof level === "string" ? [level] : level, data: data }, opts);
}

function flush() {
  Log._flush();
}

const levels = ["info", "warn", "fatal", "error", "debug", "trace"];

Log.log = log;
Log.flush = flush;

for (let i = 0; i < levels.length; i++) {
  Log[levels[i]] = (data, opts) => {
    log(levels[i], data, opts);
  };
}

module.exports = Log;
