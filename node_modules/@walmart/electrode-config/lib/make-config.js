"use strict";

const Confippet = require("electrode-confippet");
const wmlProviders = require("./wml-providers");
const Hoek = require("hoek");

function makeConfig(options) {
  const config = Confippet.store();
  const wml = wmlProviders();

  const opts = Hoek.applyToDefaults(options || {}, wml);

  Confippet.presetConfig.autoLoad(config, opts);

  return config;
}

module.exports = makeConfig;
