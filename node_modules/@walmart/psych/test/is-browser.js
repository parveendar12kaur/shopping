// Load modules
var Lab = require("lab");
var Code = require("Code");
var lab = exports.lab = Lab.script();

var describe = lab.describe;
var it = lab.it;
var before = lab.before;
var after = lab.after;
var expect = Code.expect;

var Psych = require("..");

var TORBIT_HEADER_NAME = "x-tb-browser";

describe("is-browser", function () {
  it("should be a function", function (done) {
    expect(Psych.isBrowser).to.be.a.function();
    done();
  });

  it("should return false if browser type is not browser", function (done) {
  	var browserType = Psych.isBrowser({});

   	expect(browserType).to.equal(false);
    done();
  });

  it("should return true if browser type is browser", function (done) {
    var headers = {};
    headers[TORBIT_HEADER_NAME] = "b";
    var browserType = Psych.isBrowser(headers);

    expect(browserType).to.equal(true);
    done();
  });
});
