// Load modules
var Lab = require("lab");
var Code = require("Code");
var lab = exports.lab = Lab.script();

var describe = lab.describe;
var it = lab.it;
var before = lab.before;
var after = lab.after;
var expect = Code.expect;

var Psych = require("..");

var TORBIT_HEADER_NAME = "x-tb-browser";

describe("is-tenant-native-application", function () {
  it("should be a function", function (done) {
    expect(Psych.isTenantNativeApplication).to.be.a.function();
    done();
  });

  it("should return false if browser type is not a tenant native application", function (done) {
  	var browserType = Psych.isTenantNativeApplication({});

   	expect(browserType).to.equal(false);
    done();
  });

  it("should return true if browser type is a tenant native application", function (done) {
    var headers = {};
    headers[TORBIT_HEADER_NAME] = "t";
    var browserType = Psych.isTenantNativeApplication(headers);

    expect(browserType).to.equal(true);
    done();
  });
});
