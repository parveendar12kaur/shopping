import React from "react";
import PropTypes from "prop-types";

import Spark from "./spark";
import ErrorLinks from "./error-links";

import STATUS_MESSAGES from "../enums/status-messages";

const ErrorPage = props => {
  const {
    dataAutomationId,
    onClick,
    statusCode,
    suppressHeader,
    suppressHomeLink,
    ...otherProps
  } = props;

  return (
    <div>
      {!suppressHeader && (
        <header className="error-page__header">
          <a href="/">
            <Spark title="Walmart. Save Money. Live Better." />
          </a>
        </header>
      )}

      <div className="error-page__content" {...otherProps}>
        <Spark size={64} className="error-page__logo" />
        <h1 className="error-page__title">Sorry...</h1>
        <p className="error-page__message">{STATUS_MESSAGES[statusCode]}</p>
        <ErrorLinks
          dataAutomationId={dataAutomationId}
          onClick={onClick}
          statusCode={statusCode}
          suppressHomeLink={suppressHomeLink}
        />
      </div>
    </div>
  );
};

ErrorPage.displayName = "ErrorPage";

ErrorPage.propTypes = {
  dataAutomationId: PropTypes.string,
  onClick: PropTypes.func,
  statusCode: PropTypes.number.isRequired,
  suppressHeader: PropTypes.bool,
  suppressHomeLink: PropTypes.bool
};

ErrorPage.defaultProps = {
  dataAutomationId: "error-ErrorPage-link",
  suppressHeader: false,
  suppressHomeLink: false
};

export default ErrorPage;
