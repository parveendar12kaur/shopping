"use strict";

// Returns copy of given object with decodeURIComponent applied to all
// string values. Recursive.

module.exports = function removeURIEncoding(obj) {
  if (!obj) {
    return obj;
  }
  var decoded = {};
  for (var source in obj) {
    var data = obj[source];
    if (typeof data === "string") {
      data = decodeURIComponent(data);
    } else if (data && typeof data === "object") {
      data = removeURIEncoding(data);
    }
    decoded[source] = data;
  }
  return decoded;
};