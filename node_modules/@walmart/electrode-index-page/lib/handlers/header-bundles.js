"use strict";

const unbundledScripts = require("./unbundled-scripts");
const enterHeadScripts = unbundledScripts("enterHead");

module.exports = function(context) {
  const user = context.user;
  let cssLink = "";

  if (user.routeData.WEBPACK_DEV) {
    if (user.devCSSBundle) {
      cssLink = `<link id="bundledCss" rel="stylesheet" href="${user.devCSSBundle}"/>`;
    }
  } else if (user.cssBundle) {
    cssLink = `<link id="bundledCss" rel="stylesheet" href="${context.user.cssBundle}"/>`;
  }

  const x = enterHeadScripts.call(this, context);
  return `${cssLink}${x}`;
};
