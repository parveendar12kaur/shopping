/* eslint-disable func-names */
var test = require('tape');
var createCanary = require('..');

test('canary.applyRules should be reflected in canary.rules', function (t) {
    var canary = createCanary();
    t.ok(canary.isSuspended());
    var rule1 = function () {};
    var rule2 = function () {};
    var rule3 = function () {};

    canary.applyRules([rule1, rule2, rule3]);
    t.ok(!canary.isSuspended());
    t.deepEqual(canary.rules, [rule1, rule2, rule3]);
    t.end();
});

test('applyRules accepts resume:false option', function (t) {
    var canary = createCanary();
    t.ok(canary.isSuspended());
    var rule1 = function () {};
    var rule2 = function () {};
    var rule3 = function () {};

    canary.applyRules([rule1, rule2, rule3], { resume: false });
    t.ok(canary.isSuspended());
    t.deepEqual(canary.rules, [rule1, rule2, rule3]);
    t.end();
});
