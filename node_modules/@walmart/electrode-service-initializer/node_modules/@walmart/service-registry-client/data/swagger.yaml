swagger: '2.0'
info:
  title: SOARI API
  description: SOARI Service discovery APIs
  version: 1.0.0
host: service-registry.prod.service-registry.platform.glb.prod.walmart.com
schemes:
  - http
  - https
basePath: /registry-app/services
consumes:
  - application/json
produces:
  - application/json
paths:
  /registry/service:
    get:
      summary: Search services by single KVP
      description: |
        search for a service with a single KVP, where `name` specify a field to search,
        and `value` specify the value to search.
      operationId: searchByField
      parameters:
        - name: name
          in: query
          description: Name of the field to search
          required: false
          type: string
          default: NAME
          enum:
          - NAME
          - STATUS
          - CATEGORY
          - DOMAIN
          - USAGE
          - OWNER
          - DESCRIPTION
          - APPLICATION
          - ENVIRONMENT
        - name: value
          in: query
          description: Value of the field to search
          required: false
          type: string
      tags:
        - Registry
      responses:
        '200':
          description: |
            Wrapped JSON object containing the details of all of the services. 
            Includes the status of the service [`OK`|`FAIL`] and Error code
          schema:
            type: object

  /registry/service/search:
    get:
      summary: Search services by fields specify by query params
      description: |
        search for a service by fields
      operationId: search
      parameters:
        - name: name
          in: query
          description: Name of the field to search
          required: false
          type: string
        - name: category
          in: query
          description: category
          required: false
          type: string
        - name: description
          in: query
          description: description
          required: false
          type: string
        - name: owner
          in: query
          description: owner
          required: false
          type: string
        - name: domain
          in: query
          description: domain
          required: false
          type: string
        - name: usage
          in: query
          description: usage
          required: false
          type: string
        - name: environment
          in: query
          description: environment
          required: false
          type: string
        - name: esbReference
          in: query
          description: esbReference
          required: false
          type: string
        - name: serVersion
          in: query
          description: serVersion
          required: false
          type: string
        - name: availabilityTier
          in: query
          description: availabilityTier
          required: false
          type: string
        - name: versionStatus
          in: query
          description: versionStatus
          required: false
          type: string
        - name: consumerId
          in: query
          description: consumerId
          required: false
          type: string
        - name: communicationType
          in: query
          description: communicationType
          required: false
          type: string
        - name: subscriptonStatus
          in: query
          description: subscriptonStatus
          required: false
          type: string
      tags:
        - Registry
      responses:
        '200':
          description: |
            Wrapped JSON object containing the details of all of the services.
            Includes the status of the service [`OK`|`FAIL`] and Error code
          schema:
            type: object
