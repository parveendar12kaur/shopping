"use strict";

const _ = require("lodash");

const base = require("./base");

// maintain compatibility with swapi 1.11.0 by continuing to accept separate args
module.exports = (serviceName, res, duration) => {
  const data = _.isObject(serviceName)
    ? serviceName
    : {
        serviceName,
        status: res && res.status,
        duration
      };

  base.sendEvent("service_call", data);
};
